(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3514:()=>{},8608:(e,s,a)=>{Promise.resolve().then(a.bind(a,8823))},8823:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ek});var t=a(8081),r=a(2149),l=a(4599);async function i(){try{let e=await l.xh.quickAuth.getToken();if(!e)return null;let s=String(e).split(".");if(3!==s.length)return null;return JSON.parse(atob(s[1])).fid||null}catch(e){return console.error("Error getting Farcaster FID:",e),null}}async function n(){try{return(await l.xh.getCapabilities()).includes("wallet.getEthereumProvider")}catch(e){return console.error("Error checking wallet capability:",e),!1}}async function c(){try{if(!await n())return null;return await l.xh.wallet.getEthereumProvider()}catch(e){return console.error("Error getting Ethereum provider:",e),null}}var d=a(6522),o=a(4483);function m(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,o.QP)((0,d.$)(s))}let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});x.displayName="Card";let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:m("flex flex-col space-y-1.5 p-6",a),...r})});h.displayName="CardHeader",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:m("text-2xl font-semibold leading-none tracking-tight",a),...r})}).displayName="CardTitle",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:m("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:m("p-6 pt-0",a),...r})});u.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:m("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var g=a(3621);function f(){return(0,t.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-purple-600 to-indigo-700",children:(0,t.jsx)(x,{className:"w-full max-w-md mx-auto bg-white/95 backdrop-blur-sm shadow-xl border-0",children:(0,t.jsxs)(u,{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)("div",{className:"p-4 rounded-full bg-purple-100",children:(0,t.jsx)(g.A,{className:"w-16 h-16 text-purple-600"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-center bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Pro Play"})]}),(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsx)("p",{className:"text-lg text-gray-700",children:"Your Ultimate Esports Companion"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Live scores • Match predictions • Prize pools"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,t.jsx)(p,{title:"Live Matches",description:"Real-time updates from your favorite games"}),(0,t.jsx)(p,{title:"Predictions",description:"Stake & earn from your game knowledge"}),(0,t.jsx)(p,{title:"Prize Pools",description:"Win rewards from prediction pools"}),(0,t.jsx)(p,{title:"Notifications",description:"Never miss an important match"})]}),(0,t.jsx)("div",{className:"text-center pt-6",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Powered by Base & Farcaster"})})]})})})}function p(e){let{title:s,description:a}=e;return(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-white/50 backdrop-blur-sm border border-purple-100",children:[(0,t.jsx)("h3",{className:"font-semibold text-purple-700",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a})]})}var j=a(9907),b=a(3484);let N=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=r.forwardRef((e,s)=>{let{className:a,variant:r,size:l,asChild:i=!1,...n}=e,c=i?j.DX:"button";return(0,t.jsx)(c,{className:m(N({variant:r,size:l,className:a})),ref:s,...n})});function y(e){let{onLogin:s}=e;return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-white",children:(0,t.jsxs)(x,{className:"w-full max-w-md mx-auto shadow-lg border border-gray-200 bg-white",children:[(0,t.jsxs)(h,{className:"text-center space-y-6 pt-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"p-4 rounded-full bg-purple-50",children:(0,t.jsx)(g.A,{className:"w-12 h-12 text-purple-600"})})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Esports Match Alerts"}),(0,t.jsx)("p",{className:"text-gray-600 text-base leading-relaxed",children:"Get match schedules and alerts for LoL, CS2, and Valorant. Sign in with Farcaster!"})]})]}),(0,t.jsxs)(u,{className:"space-y-6 pb-8",children:[(0,t.jsx)(v,{onClick:s,className:"w-full h-12 text-base font-semibold bg-purple-600 hover:bg-purple-700 text-white transition-all duration-200 hover:scale-[1.02]",children:"Sign-In With Farcaster"}),(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"QR Code"})})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("a",{href:"#",className:"text-sm text-purple-600 hover:text-purple-700 transition-colors",children:"#EsportsHub"})})]})]})})}v.displayName="Button";var w=a(5113),k=a(6722);let C=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(w.bL,{ref:s,className:m("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(w.C1,{className:m("flex items-center justify-center text-current"),children:(0,t.jsx)(k.A,{className:"h-4 w-4"})})})});C.displayName=w.bL.displayName;var S=a(6379),A=a(392),E=a(6801);let F=S.bL;S.YJ;let T=S.WT,L=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(S.l9,{ref:s,className:m("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,t.jsx)(S.In,{asChild:!0,children:(0,t.jsx)(A.A,{className:"h-4 w-4 opacity-50"})})]})});L.displayName=S.l9.displayName;let P=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(S.PP,{ref:s,className:m("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})});P.displayName=S.PP.displayName;let z=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(S.wn,{ref:s,className:m("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})});z.displayName=S.wn.displayName;let R=r.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,t.jsx)(S.ZL,{children:(0,t.jsxs)(S.UC,{ref:s,className:m("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,t.jsx)(P,{}),(0,t.jsx)(S.LM,{className:m("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(z,{})]})})});R.displayName=S.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(S.JU,{ref:s,className:m("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=S.JU.displayName;let D=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(S.q7,{ref:s,className:m("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(S.VF,{children:(0,t.jsx)(k.A,{className:"h-4 w-4"})})}),(0,t.jsx)(S.p4,{children:r})]})});D.displayName=S.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(S.wv,{ref:s,className:m("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=S.wv.displayName;let M=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});M.displayName="Input";var V=a(2297),U=a(3602);let _=a(3849).env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:3001",W={fixtures:"/api/fixtures",predictions:"/api/predictions",follow:"/api/follow",preferences:"/api/preferences",wallet:"/api/wallet",updates:"/api/updates"},O=e=>"".concat(_).concat(e);async function H(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch(O(e),{...s,headers:{"Content-Type":"application/json",...s.headers}});if(!a.ok)throw Error("API Error: ".concat(a.statusText));return a.json()}let I=[{id:"lol",name:"League of Legends"},{id:"cs2",name:"Counter-Strike 2"},{id:"valorant",name:"Valorant"},{id:"dota2",name:"Dota 2"}],B=["T1","Bilibili Gaming","Fnatic","G2 Esports","Team Liquid","Cloud9","FaZe Clan","Natus Vincere","Sentinels","LOUD","100 Thieves","TSM"],J=["Faker","s1mple","TenZ","Caps","Jankos","Rekkles","ZywOo","device","Aspas","Less","Sacy","ShahZaM"];function G(e){let{onComplete:s,onSkip:a}=e,[l,n]=(0,r.useState)(1),[c,d]=(0,r.useState)([]),[o,m]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),[N,y]=(0,r.useState)(""),w=e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[k,S]=(0,r.useState)(!1),[A,E]=(0,r.useState)(null),P=async()=>{if(l<3)n(l+1);else{S(!0),E(null);try{let e=await i();if(!e)throw Error("User not authenticated");let a=await fetch(O(W.preferences),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:e,genres:c,favorite_team:o,favorite_player:f})});if(!a.ok)throw Error("Failed to save preferences: ".concat(a.statusText));s({games:c,favoriteTeam:o,favoritePlayer:f})}catch(e){E(e instanceof Error?e.message:"An error occurred")}finally{S(!1)}}},z=B.filter(e=>e.toLowerCase().includes(j.toLowerCase())),_=J.filter(e=>e.toLowerCase().includes(N.toLowerCase()));return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-white",children:(0,t.jsxs)(x,{className:"w-full max-w-md mx-auto shadow-lg border border-gray-200 bg-white",children:[(0,t.jsxs)(h,{className:"text-center space-y-4 pt-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"p-3 rounded-full bg-purple-50",children:(0,t.jsx)(g.A,{className:"w-8 h-8 text-purple-600"})})}),(0,t.jsx)("div",{className:"flex justify-center gap-2",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors ".concat(e===l?"bg-purple-600":e<l?"bg-purple-400":"bg-gray-300")},e))}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("button",{onClick:a,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Skip"})})]}),(0,t.jsxs)(u,{className:"space-y-6 pb-8",children:[1===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Choose Your Favorite Esports"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Select the games you want to follow"})]}),(0,t.jsx)("div",{className:"space-y-3",children:I.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors bg-white",children:[(0,t.jsx)(C,{id:e.id,checked:c.includes(e.id),onCheckedChange:()=>w(e.id)}),(0,t.jsx)("label",{htmlFor:e.id,className:"flex-1 font-medium cursor-pointer text-gray-900",children:e.name})]},e.id))})]}),2===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Pick Your Favorite Team"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Choose a team to follow closely"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(M,{placeholder:"Search teams...",value:j,onChange:e=>b(e.target.value),className:"border-gray-200"}),(0,t.jsxs)(F,{value:o,onValueChange:m,children:[(0,t.jsx)(L,{className:"border-gray-200",children:(0,t.jsx)(T,{placeholder:"Select a team"})}),(0,t.jsx)(R,{children:z.map(e=>(0,t.jsx)(D,{value:e,children:e},e))})]})]})]}),3===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Select Your Favorite Player"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pick a player to get personalized updates"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(M,{placeholder:"Search players...",value:N,onChange:e=>y(e.target.value),className:"border-gray-200"}),(0,t.jsxs)(F,{value:f,onValueChange:p,children:[(0,t.jsx)(L,{className:"border-gray-200",children:(0,t.jsx)(T,{placeholder:"Select a player"})}),(0,t.jsx)(R,{children:_.map(e=>(0,t.jsx)(D,{value:e,children:e},e))})]})]})]}),A&&(0,t.jsx)("div",{className:"w-full bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:A})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[l>1&&(0,t.jsxs)(v,{variant:"outline",onClick:()=>{l>1&&n(l-1)},disabled:k,className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:[(0,t.jsx)(V.A,{className:"w-4 h-4 mr-1"}),"Back"]}),(0,t.jsx)(v,{onClick:P,disabled:!(()=>{switch(l){case 1:return c.length>0;case 2:return""!==o;case 3:return""!==f;default:return!1}})()||k,className:"".concat(1===l?"w-full":"flex-1"," h-12 font-semibold bg-purple-600 hover:bg-purple-700 text-white"),children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),3===l?"Saving...":"Next"]}):(0,t.jsxs)(t.Fragment,{children:[3===l?"Finish":"Next",l<3&&(0,t.jsx)(U.A,{className:"w-4 h-4 ml-1"})]})})]})]})]})})}var q=a(4324);let Y=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(q.bL,{ref:s,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});Y.displayName=q.bL.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(q._V,{ref:s,className:m("aspect-square h-full w-full",a),...r})}).displayName=q._V.displayName;let Z=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(q.H4,{ref:s,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});Z.displayName=q.H4.displayName;let $=(0,b.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function K(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:m($({variant:a}),s),...r})}var X=a(2347),Q=a(6e3),ee=a(1528),es=a(9894),ea=a(3938),et=a(8822),er=a(5586);function el(e){let{onNavigateToFollowed:s,onNavigateToPredictions:a,onNavigateToLive:l,onFollowMatch:i,onShareMatch:n,onOpenWallet:c,followedMatches:d,userPreferences:o}=e,[m,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(!0),[j,b]=(0,r.useState)(null),[N,y]=(0,r.useState)("all"),[w,k]=(0,r.useState)("all"),[C,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{p(!0),b(null),H(W.fixtures).then(e=>h(e)).catch(e=>b(e.message||"Failed to load matches")).finally(()=>p(!1))},[]);let A=m.filter(e=>"all"===N||e.game===N),E=e=>{S(C===e?null:e)};return(0,t.jsxs)("div",{className:"min-h-screen bg-white pb-20",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-6 h-6 text-purple-600"}),(0,t.jsx)("span",{className:"font-bold text-lg text-gray-900",children:"Esports Alerts"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(v,{variant:"outline",size:"sm",onClick:c,className:"border-gray-200 bg-white hover:bg-gray-50",children:[(0,t.jsx)(X.A,{className:"w-4 h-4 mr-1"}),"Wallet"]}),(0,t.jsx)(Y,{className:"w-8 h-8",children:(0,t.jsx)(Z,{className:"text-xs bg-purple-100 text-purple-600",children:"JD"})})]})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-6",children:[f&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading matches..."})]}),j&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("p",{className:"text-red-600",children:j}),(0,t.jsx)(v,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{p(!0),b(null),H(W.fixtures).then(e=>h(e)).catch(e=>b(e.message||"Failed to load matches")).finally(()=>p(!1))},children:"Try Again"})]}),!f&&!j&&o.games.length>0&&(0,t.jsx)(x,{className:"bg-white border border-gray-200 shadow-sm",children:(0,t.jsxs)(u,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 text-purple-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Your Preferences"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[o.games.map(e=>(0,t.jsx)(K,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:e.toUpperCase()},e)),o.favoriteTeam&&(0,t.jsxs)(K,{variant:"outline",className:"text-xs border-gray-200",children:["Team: ",o.favoriteTeam]}),o.favoritePlayer&&(0,t.jsxs)(K,{variant:"outline",className:"text-xs border-gray-200",children:["Player: ",o.favoritePlayer]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[(0,t.jsxs)(F,{value:N,onValueChange:y,children:[(0,t.jsx)(L,{className:"w-32 border-gray-200 bg-white",children:(0,t.jsx)(T,{placeholder:"Game"})}),(0,t.jsxs)(R,{children:[(0,t.jsx)(D,{value:"all",children:"All Games"}),(0,t.jsx)(D,{value:"LoL",children:"LoL"}),(0,t.jsx)(D,{value:"CS2",children:"CS2"}),(0,t.jsx)(D,{value:"Valorant",children:"Valorant"})]})]}),(0,t.jsxs)(F,{value:w,onValueChange:k,children:[(0,t.jsx)(L,{className:"w-32 border-gray-200 bg-white",children:(0,t.jsx)(T,{placeholder:"Date"})}),(0,t.jsxs)(R,{children:[(0,t.jsx)(D,{value:"all",children:"All Dates"}),(0,t.jsx)(D,{value:"today",children:"Today"}),(0,t.jsx)(D,{value:"tomorrow",children:"Tomorrow"}),(0,t.jsx)(D,{value:"week",children:"This Week"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[f&&(0,t.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Loading matches..."}),j&&(0,t.jsx)("div",{className:"text-center text-red-500 py-8",children:j}),!f&&!j&&A.map(e=>(0,t.jsx)(x,{className:"hover:scale-[1.02] transition-all duration-200 shadow-sm border border-gray-200 bg-white cursor-pointer",onClick:()=>E(e.id),children:(0,t.jsxs)(u,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(K,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:e.game}),(0,t.jsx)(K,{variant:"outline",className:"text-xs border-gray-200",children:e.tournament})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:e.team1})]}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"VS"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:e.team2}),(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-5 h-5 text-white"})})]})]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:e.time}),C===e.id&&(0,t.jsxs)("div",{className:"space-y-4 mb-4 p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(K,{variant:"destructive",className:"text-xs animate-pulse bg-red-500 text-white",children:"\uD83D\uDD34 LIVE"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Map 1, 15th min"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"1"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Score"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Current Match"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"0"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Score"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Match Progress"}),(0,t.jsx)("span",{className:"text-gray-600",children:"60%"})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"60%"}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Kills"}),(0,t.jsx)("div",{className:"text-gray-600",children:"15 - 8"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Objectives"}),(0,t.jsx)("div",{className:"text-gray-600",children:"3 - 1"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Gold"}),(0,t.jsx)("div",{className:"text-gray-600",children:"45k - 38k"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-gray-900",children:"Live Updates"}),(0,t.jsxs)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-gray-900",children:"T1 takes Baron!"}),(0,t.jsx)("span",{className:"text-gray-500",children:"2m ago"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-gray-900",children:"First blood to Bilibili Gaming!"}),(0,t.jsx)("span",{className:"text-gray-500",children:"5m ago"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-gray-900",children:"Match started"}),(0,t.jsx)("span",{className:"text-gray-500",children:"15m ago"})]})]})]}),(0,t.jsxs)(v,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:e=>{e.stopPropagation(),window.open("https://twitch.tv/riotgames","_blank")},children:[(0,t.jsx)(ee.A,{className:"w-4 h-4 mr-1"}),"Watch Live on Twitch"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)(v,{variant:d.includes(e.id)?"default":"outline",size:"sm",onClick:()=>i(e.id),className:"flex-1 ".concat(d.includes(e.id)?"bg-purple-600 hover:bg-purple-700 text-white":"border-gray-200 bg-white hover:bg-gray-50"),children:[(0,t.jsx)(es.A,{className:"w-4 h-4 mr-1 ".concat(d.includes(e.id)?"fill-current":"")}),d.includes(e.id)?"Followed":"Follow"]}),(0,t.jsxs)(v,{variant:"outline",size:"sm",onClick:()=>n(e),className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:[(0,t.jsx)(ea.A,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})},e.id))]}),(0,t.jsxs)(v,{onClick:s,className:"w-full h-12 text-base font-semibold bg-purple-600 hover:bg-purple-700 text-white",disabled:0===d.length,children:["View Followed Matches (",d.length,")"]})]}),(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-around p-4",children:[(0,t.jsxs)(v,{variant:"ghost",className:"flex flex-col items-center gap-1 text-purple-600 hover:bg-purple-50",children:[(0,t.jsx)(et.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,t.jsxs)(v,{variant:"ghost",className:"flex flex-col items-center gap-1 hover:bg-gray-100",onClick:a,children:[(0,t.jsx)(er.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs",children:"Predictions"})]})]})})]})}var ei=a(3396);let en=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(ei.bL,{className:m("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(ei.zi,{className:m("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});en.displayName=ei.bL.displayName;var ec=a(1251),ed=a(2522);let eo=r.forwardRef((e,s)=>{let{onBack:a,onUnfollowMatch:l,followedMatches:n}=e,[c,d]=(0,r.useState)(!0),[o,m]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[f,p]=(0,r.useState)(null),[j,b]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(0===n.length){m([]),g(!1);return}g(!0),p(null),H(W.fixtures).then(e=>{m(e.filter(e=>n.includes(e.id)))}).catch(e=>p(e.message||"Failed to load followed matches")).finally(()=>g(!1))},[n]);let N=async e=>{b(e);try{let s=await i();if(!s)throw Error("User not authenticated");let a=await fetch(O("".concat(W.follow,"/").concat(e)),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:s})});if(!a.ok)throw Error("Failed to unfollow match: ".concat(a.statusText));l(e)}catch(e){console.error("Error unfollowing match:",e)}finally{b(null)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:a,className:"hover:bg-gray-100",children:(0,t.jsx)(ec.A,{className:"w-4 h-4"})}),(0,t.jsx)("h1",{className:"font-bold text-lg text-gray-900",children:"Followed Matches"})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-6",children:[(0,t.jsx)(x,{className:"border border-gray-200 bg-white shadow-sm",children:(0,t.jsx)(u,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"Enable Notifications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Get alerts before matches start"})]}),(0,t.jsx)(en,{checked:c,onCheckedChange:d})]})})}),h&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading followed matches..."})]}),f&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("p",{className:"text-red-600",children:f}),(0,t.jsx)(v,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{g(!0),p(null),H(W.fixtures).then(e=>{m(e.filter(e=>n.includes(e.id)))}).catch(e=>p(e.message||"Failed to load followed matches")).finally(()=>g(!1))},children:"Try Again"})]}),!h&&!f&&(0,t.jsx)("div",{className:"space-y-4",children:0===o.length?(0,t.jsx)(x,{className:"border border-gray-200 bg-white shadow-sm",children:(0,t.jsxs)(u,{className:"p-8 text-center",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"No followed matches yet"}),(0,t.jsx)(v,{variant:"outline",onClick:a,className:"mt-4 border-gray-200 bg-white hover:bg-gray-50",children:"Browse Matches"})]})}):o.map(e=>(0,t.jsx)(x,{className:"hover:scale-[1.01] transition-all duration-200 border border-gray-200 bg-white shadow-sm",children:(0,t.jsxs)(u,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(K,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:e.game}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(K,{variant:"outline",className:"text-xs border-gray-200",children:e.status}),(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>N(e.id),disabled:j===e.id,className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:j===e.id?(0,t.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full"}):(0,t.jsx)(ed.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.team1})]}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"VS"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.team2}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.time," • ",e.tournament]})]})},e.id))})]})]})});var em=a(7188),ex=a(18);function eh(e){let{onNavigateToHome:s,onOpenWallet:a,onShareMatch:l}=e,[n,c]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[m,h]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[p,j]=(0,r.useState)(null),[b,N]=(0,r.useState)(""),[y,w]=(0,r.useState)("ETH"),[k,C]=(0,r.useState)(""),[S,A]=(0,r.useState)(!1),[E,P]=(0,r.useState)(null),[z,V]=(0,r.useState)(null);(0,r.useEffect)(()=>{o(!0),h(null),H(W.fixtures).then(e=>{c(e.filter(e=>!0))}).catch(e=>h(e.message||"Failed to load predictions")).finally(()=>o(!1))},[]),(0,r.useEffect)(()=>{H(W.wallet).then(e=>V(e.address)).catch(e=>console.error("Failed to load wallet address:",e))},[]);let U=e=>{j(e),C(""),f(!0)},_=async()=>{if(k&&b&&p&&z){A(!0),P(null);try{let e=await i();if(!e)throw Error("User not authenticated");let s=await fetch(O(W.predictions),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:p.id,predictedWinner:k,amount:b,fid:e,walletAddress:z})});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to make prediction: ".concat(s.statusText))}f(!1),N(""),C(""),H(W.fixtures).then(e=>{let s=e.filter(e=>!0);c(s)}).catch(e=>console.error("Failed to refresh predictions:",e))}catch(e){P(e instanceof Error?e.message:"An error occurred")}finally{A(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-white pb-20",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:s,className:"hover:bg-gray-100",children:(0,t.jsx)(ec.A,{className:"w-4 h-4"})}),(0,t.jsx)("h1",{className:"font-bold text-lg text-gray-900",children:"Predictions"})]}),(0,t.jsxs)(v,{variant:"outline",size:"sm",onClick:a,className:"border-gray-200 bg-white hover:bg-gray-50",children:[(0,t.jsx)(X.A,{className:"w-4 h-4 mr-1"}),"Wallet"]})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-6",children:[d&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading predictions..."})]}),m&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("p",{className:"text-red-600",children:m}),(0,t.jsx)(v,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{o(!0),h(null),H(W.fixtures).then(e=>{c(e.filter(e=>!0))}).catch(e=>h(e.message||"Failed to load predictions")).finally(()=>o(!1))},children:"Try Again"})]}),!d&&!m&&0===n.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(Q.A,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Predictions Available"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Check back later for upcoming matches"})]}),!d&&!m&&n.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,t.jsx)(x,{className:"hover:scale-[1.01] transition-all duration-200 shadow-sm border border-gray-200 bg-white",children:(0,t.jsxs)(u,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(K,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:e.game}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,t.jsx)(em.A,{className:"w-4 h-4"}),e.timeLeft]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.team1})]}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"VS"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.team2}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Prize Pool"}),(0,t.jsx)("div",{className:"font-bold text-lg text-purple-600",children:e.prizePool})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Tournament"}),(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.tournament})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,t.jsx)(ex.A,{className:"w-4 h-4"}),"Top Stakers"]}),(0,t.jsx)("div",{className:"space-y-1",children:e.topStakers.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-purple-600",children:e.username}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.amount})]},s))})]}),(0,t.jsx)(v,{onClick:()=>U(e),className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"Predict Winner"})]})},e.id))})]}),g&&p&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsx)(x,{className:"w-full max-w-md mx-auto shadow-lg border border-gray-200 bg-white",children:(0,t.jsxs)(u,{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:"Place Prediction"}),(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>f(!1),className:"hover:bg-gray-100",children:"\xd7"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"font-medium text-gray-900",children:[p.team1," vs ",p.team2]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:p.tournament}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Time left: ",p.timeLeft]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-900",children:"Select Winning Team"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)(v,{variant:k===p.team1?"default":"outline",onClick:()=>C(p.team1),className:"p-4 h-auto flex flex-col items-center gap-2 ".concat(k===p.team1?"bg-purple-600 hover:bg-purple-700 text-white":"border-gray-200 bg-white hover:bg-gray-50"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"font-medium",children:p.team1})]}),(0,t.jsxs)(v,{variant:k===p.team2?"default":"outline",onClick:()=>C(p.team2),className:"p-4 h-auto flex flex-col items-center gap-2 ".concat(k===p.team2?"bg-purple-600 hover:bg-purple-700 text-white":"border-gray-200 bg-white hover:bg-gray-50"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"font-medium",children:p.team2})]})]}),k&&(0,t.jsxs)("div",{className:"text-sm text-gray-600 text-center",children:["You're betting on ",(0,t.jsx)("span",{className:"font-medium text-purple-600",children:k})," to win"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-900",children:"Stake Amount"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(M,{type:"number",placeholder:"0.0",value:b,onChange:e=>N(e.target.value),className:"flex-1 border-gray-200"}),(0,t.jsxs)(F,{value:y,onValueChange:w,children:[(0,t.jsx)(L,{className:"w-20 border-gray-200",children:(0,t.jsx)(T,{})}),(0,t.jsxs)(R,{children:[(0,t.jsx)(D,{value:"ETH",children:"ETH"}),(0,t.jsx)(D,{value:"USDC",children:"USDC"})]})]})]}),b&&k&&(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Staking ",b," ",y," on ",k]})]}),E&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:E})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)(v,{variant:"outline",onClick:()=>f(!1),disabled:S,className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)(v,{onClick:_,disabled:!b||0>=Number.parseFloat(b)||!k||S,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Confirming..."]}):"Confirm Stake"})]})]})})}),(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-around p-4",children:[(0,t.jsxs)(v,{variant:"ghost",className:"flex flex-col items-center gap-1 hover:bg-gray-100",onClick:s,children:[(0,t.jsx)(et.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,t.jsxs)(v,{variant:"ghost",className:"flex flex-col items-center gap-1 text-purple-600 hover:bg-purple-50",children:[(0,t.jsx)(er.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs",children:"Predictions"})]})]})})]})}var eu=a(4771);let eg=r.forwardRef((e,s)=>{let{className:a,value:r,...l}=e;return(0,t.jsx)(eu.bL,{ref:s,className:m("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(eu.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});function ef(e){let{onBack:s,onNavigateToHome:a,onNavigateToPredictions:l,onOpenWallet:i,onShareMatch:n}=e,[c,d]=(0,r.useState)(null),[o,m]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[f,p]=(0,r.useState)(!0),[j,b]=(0,r.useState)(null);(0,r.useEffect)(()=>{p(!0),b(null),Promise.all([H(W.fixtures).then(e=>e.filter(e=>"live"===e.status)),H(W.updates)]).then(e=>{let[s,a]=e;m(s),g(a)}).catch(e=>b(e.message||"Failed to load live matches")).finally(()=>p(!1))},[]);let N=e=>{window.open(e,"_blank")},y=e=>{d(c===e?null:e)};return(0,t.jsxs)("div",{className:"min-h-screen bg-white pb-20",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:s,className:"hover:bg-gray-100",children:(0,t.jsx)(ec.A,{className:"w-4 h-4"})}),(0,t.jsx)("h1",{className:"font-bold text-lg text-gray-900",children:"Live Matches"})]}),(0,t.jsxs)(v,{variant:"outline",size:"sm",onClick:i,className:"border-gray-200 bg-white hover:bg-gray-50",children:[(0,t.jsx)(X.A,{className:"w-4 h-4 mr-1"}),"Wallet"]})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-6",children:[f&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading live matches..."})]}),j&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("p",{className:"text-red-600",children:j}),(0,t.jsx)(v,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{p(!0),b(null),Promise.all([H(W.fixtures).then(e=>e.filter(e=>"live"===e.status)),H(W.updates)]).then(e=>{let[s,a]=e;m(s),g(a)}).catch(e=>b(e.message||"Failed to load live matches")).finally(()=>p(!1))},children:"Try Again"})]}),!f&&!j&&(0,t.jsx)("div",{className:"space-y-4",children:0===o.length?(0,t.jsx)(x,{className:"border border-gray-200 bg-white shadow-sm",children:(0,t.jsxs)(u,{className:"p-8 text-center",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"No live matches at the moment"}),(0,t.jsx)(v,{variant:"outline",onClick:s,className:"mt-4 border-gray-200 bg-white hover:bg-gray-50",children:"Browse Upcoming Matches"})]})}):o.map(e=>(0,t.jsx)(x,{className:"hover:scale-[1.01] transition-all duration-200 shadow-sm border border-gray-200 bg-white",children:(0,t.jsxs)(u,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(K,{variant:"destructive",className:"text-xs animate-pulse bg-red-500 text-white",children:"\uD83D\uDD34 LIVE"}),(0,t.jsx)(K,{variant:"outline",className:"text-xs border-gray-200",children:e.tournament})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>y(e.id),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.team1}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.score1})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"VS"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.team2}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.score2})]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-4 h-4 text-white"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Match Progress"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[e.progress,"%"]})]}),(0,t.jsx)(eg,{value:e.progress,className:"h-2"})]}),c===e.id&&(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100 space-y-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Match Stats"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Kills"}),(0,t.jsx)("div",{className:"text-gray-600",children:"15 - 8"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Objectives"}),(0,t.jsx)("div",{className:"text-gray-600",children:"3 - 1"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Gold"}),(0,t.jsx)("div",{className:"text-gray-600",children:"45k - 38k"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(v,{onClick:()=>N(e.twitchUrl),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[(0,t.jsx)(ee.A,{className:"w-4 h-4 mr-1"}),"Watch Live"]}),(0,t.jsxs)(v,{variant:"outline",onClick:()=>n(e),className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:[(0,t.jsx)(ea.A,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})},e.id))}),!f&&!j&&h.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:"Live Updates"}),(0,t.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,t.jsx)(x,{className:"hover:bg-gray-50 transition-colors border border-gray-200 bg-white",children:(0,t.jsx)(u,{className:"p-3",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:e.text}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(K,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:e.game}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,t.jsx)(em.A,{className:"w-3 h-3"}),e.time]})]})]})})})},e.id))})]})]}),(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-around p-4",children:[(0,t.jsxs)(v,{variant:"ghost",className:"flex flex-col items-center gap-1 hover:bg-gray-100",onClick:a,children:[(0,t.jsx)(et.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,t.jsxs)(v,{variant:"ghost",className:"flex flex-col items-center gap-1 hover:bg-gray-100",onClick:l,children:[(0,t.jsx)(er.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs",children:"Predictions"})]})]})})]})}eg.displayName=eu.bL.displayName;let ep=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:m("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});function ej(e){let{match:s,onClose:a}=e,[i,n]=(0,r.useState)(void 0!==s.score1&&void 0!==s.score2?"\uD83D\uDD34 LIVE: ".concat(s.team1," ").concat(s.score1,"-").concat(s.score2," ").concat(s.team2," in ").concat(s.game," ").concat(s.tournament,"! ").concat(s.status," #EsportsHub"):"".concat(s.team1," vs. ").concat(s.team2,", ").concat(s.game," ").concat(s.tournament,", ").concat(s.time," #EsportsHub")),c=async()=>{try{await l.xh.actions.composeCast({text:i}),console.log("Cast posted successfully"),a()}catch(e){console.error("Error posting cast:",e)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsx)(x,{className:"w-full max-w-md mx-auto shadow-lg border border-gray-200 bg-white",children:(0,t.jsxs)(u,{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:"Share Match"}),(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:a,className:"hover:bg-gray-100",children:(0,t.jsx)(ed.A,{className:"w-4 h-4"})})]}),(0,t.jsx)(ep,{value:i,onChange:e=>n(e.target.value),placeholder:"Share this match...",className:"min-h-[100px] resize-none border-gray-200",maxLength:280}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:[i.length,"/280"]}),(0,t.jsx)(x,{className:"bg-gray-50 border border-gray-100",children:(0,t.jsxs)(u,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(K,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:s.game}),(0,t.jsx)(K,{variant:"outline",className:"text-xs border-gray-200",children:s.tournament})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-3 h-3 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s.team1}),void 0!==s.score1&&(0,t.jsx)("span",{className:"ml-2 font-bold text-gray-900",children:s.score1})]})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"VS"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{children:[void 0!==s.score2&&(0,t.jsx)("span",{className:"mr-2 font-bold text-gray-900",children:s.score2}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s.team2})]}),(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"w-3 h-3 text-white"})})]})]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:s.time||s.status})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(v,{variant:"outline",onClick:a,className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)(v,{onClick:c,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:"Post Cast"})]})]})})})}ep.displayName="Textarea";var eb=a(7849),eN=a(5283);function ev(e){let{onClose:s}=e,[a,l]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0),[o,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{d(!0),m(null),(async()=>{try{if(!await n())throw Error("Wallet capability not available");let e=await c();if(!e)throw Error("Failed to get Ethereum provider");let s=(await e.request({method:"eth_requestAccounts"}))[0];if(!s)throw Error("No wallet address found");let a=await H("".concat(W.wallet,"/").concat(s));l({address:s,assets:[{symbol:"ETH",amount:a.eth,value:"$".concat((2500*parseFloat(a.eth)).toFixed(2))},{symbol:"USDC",amount:a.usdc,value:"$".concat(parseFloat(a.usdc).toFixed(2))}]})}catch(e){console.error("Wallet error:",e),m(e instanceof Error?e.message:"Failed to load wallet data");try{let e=await H(W.wallet),s=await H("".concat(W.wallet,"/").concat(e.address));l({address:e.address,assets:[{symbol:"ETH",amount:s.eth,value:"$".concat((2500*parseFloat(s.eth)).toFixed(2))},{symbol:"USDC",amount:s.usdc,value:"$".concat(parseFloat(s.usdc).toFixed(2))}]}),m(null)}catch(e){console.error("Fallback wallet error:",e)}}finally{d(!1)}})()},[]),(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)(x,{className:"w-full max-w-sm mx-auto shadow-lg border border-gray-200 bg-white",children:[(0,t.jsx)(h,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(X.A,{className:"w-5 h-5 text-purple-600"}),(0,t.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:"Wallet"})]}),(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:s,className:"hover:bg-gray-100",children:(0,t.jsx)(ed.A,{className:"w-4 h-4"})})]})}),(0,t.jsxs)(u,{className:"space-y-4",children:[i&&(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading wallet data..."})]}),o&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,t.jsx)(eb.A,{className:"w-5 h-5 text-red-500"}),(0,t.jsx)("p",{className:"text-red-600 font-medium",children:"Error"})]}),(0,t.jsx)("p",{className:"text-red-600 text-sm",children:o}),(0,t.jsx)(v,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{d(!0),m(null),H(W.wallet).then(e=>l(e)).catch(e=>m(e.message||"Failed to load wallet data")).finally(()=>d(!1))},children:"Try Again"})]}),!i&&!o&&a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-mono text-gray-700",children:a.address}),(0,t.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>{(null==a?void 0:a.address)&&navigator.clipboard.writeText(a.address)},className:"hover:bg-gray-200",children:(0,t.jsx)(eN.A,{className:"w-4 h-4"})})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-gray-600",children:"Assets"}),a.assets.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs font-bold text-white",children:e.symbol[0]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.symbol}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.amount})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.value})})]},e.symbol))]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)(v,{variant:"outline",className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:"Send"}),(0,t.jsx)(v,{variant:"outline",className:"flex-1 border-gray-200 bg-white hover:bg-gray-50",children:"Receive"})]})]})]})]})})}let ey=(0,r.createContext)({theme:"system",setTheme:()=>null});function ew(e){let{children:s,defaultTheme:a="system",storageKey:l="vite-ui-theme",...i}=e,[n,c]=(0,r.useState)(a);return(0,r.useEffect)(()=>{var e;let s=null===(e=localStorage)||void 0===e?void 0:e.getItem(l);s&&c(s)},[l]),(0,r.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===n){let s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(s);return}e.classList.add(n)},[n]),(0,t.jsx)(ey.Provider,{...i,value:{theme:n,setTheme:e=>{var s;null===(s=localStorage)||void 0===s||s.setItem(l,e),c(e)}},children:s})}function ek(){let[e,s]=(0,r.useState)("splash"),[a,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[u,g]=(0,r.useState)([]),[p,j]=(0,r.useState)({games:[],favoriteTeam:"",favoritePlayer:""}),[b,N]=(0,r.useState)(null),[v,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{await l.xh.actions.ready();let e=await i();e?(N(e),w(null),s("onboarding")):(w("User not authenticated"),s("login"))}catch(e){console.error("Error initializing Farcaster SDK:",e),w("Failed to initialize Farcaster SDK"),s("login")}})()},[]),(0,r.useEffect)(()=>{b&&(fetch(O("".concat(W.preferences,"?fid=").concat(b))).then(e=>{if(!e.ok)throw Error("Failed to fetch preferences: ".concat(e.statusText));return e.json()}).then(e=>{e&&e.genres&&(j({games:e.genres||[],favoriteTeam:e.favorite_team||"",favoritePlayer:e.favorite_player||""}),e.genres&&e.genres.length>0&&n(!0))}).catch(e=>{console.error("Error fetching preferences:",e)}),fetch(O("".concat(W.follow,"/").concat(b))).then(e=>{if(!e.ok)throw Error("Failed to fetch followed matches: ".concat(e.statusText));return e.json()}).then(e=>{e&&Array.isArray(e)&&g(e.map(e=>e.match_id))}).catch(e=>{console.error("Error fetching followed matches:",e)}))},[b]);let k=async e=>{if(u.includes(e)){g(s=>s.filter(s=>s!==e));return}if(!b){console.error("User not authenticated"),s("login");return}try{let s=await fetch(O(W.follow),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:e,fid:b})});if(!s.ok)throw Error("Failed to follow match: ".concat(s.statusText));g(s=>[...s,e])}catch(e){console.error("Error following match:",e)}},C=e=>{h(e),d(!0)},S=async()=>{try{await l.xh.actions.ready();let e=await i();e?(N(e),w(null),s("onboarding")):w("Authentication failed. Please try again.")}catch(e){console.error("Login error:",e),w("Failed to authenticate with Farcaster")}};return(0,t.jsx)(ew,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:["splash"===e&&(0,t.jsx)(f,{}),"login"===e&&(0,t.jsx)(y,{onLogin:S}),"onboarding"===e&&(0,t.jsx)(G,{onComplete:e=>{j(e),n(!0),s("home")},onSkip:()=>{n(!0),s("home")}}),"home"===e&&(0,t.jsx)(el,{onNavigateToFollowed:()=>s("followed"),onNavigateToPredictions:()=>s("predictions"),onNavigateToLive:()=>s("live"),onFollowMatch:k,onShareMatch:C,onOpenWallet:()=>m(!0),followedMatches:u,userPreferences:p}),"followed"===e&&(0,t.jsx)(eo,{onBack:()=>s("home"),onUnfollowMatch:k,followedMatches:u}),"predictions"===e&&(0,t.jsx)(eh,{onNavigateToHome:()=>s("home"),onOpenWallet:()=>m(!0),onShareMatch:C}),"live"===e&&(0,t.jsx)(ef,{onBack:()=>s("home"),onNavigateToHome:()=>s("home"),onNavigateToPredictions:()=>s("predictions"),onOpenWallet:()=>m(!0),onShareMatch:C}),c&&x&&(0,t.jsx)(ej,{match:x,onClose:()=>d(!1)}),o&&(0,t.jsx)(ev,{onClose:()=>m(!1)})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[864,335,497,954,358],()=>s(8608)),_N_E=e.O()}]);